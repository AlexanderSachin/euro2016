{{#> layout}}
{{#*inline "head"}}
<style>
.score-3 {
    background-color: #009900;
}
.score-2 {
    background-color: #00e600;
}
.score-1 {
    background-color: #ccffcc;
}
@keyframes pulse-success {
    0%, 100% { background-color: white; }
    30% { background-color: #76FF7A; }
}
.autosave-success {
    animation: pulse-success 1s;
}
@keyframes pulse-error {
    0%, 100% { background-color: white; }
    30% { background-color: #DC381F; }
}
.autosave-error {
    animation: pulse-error 1s;
}
</style>
<title>{{user.name}} - Euro 2016</title>
{{/inline}}
{{#*inline "body"}}
{{> navbar}}
<input type="hidden" name="_csrf" value="{{csrfToken}}">
<input type="hidden" name="_action" value="{{@origin}}/save_bet">
<div class="container">

<table class="table">
<tr>
    <th>Name</th>
    <th>Score</th>
    <th title="Correct bet"><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i></th>
    <th title="Correct goal difference"><i class="fa fa-star"></i><i class="fa fa-star"></i></th>
    <th title="Correct winner"><i class="fa fa-star"></i></th>
</tr>
<tr>
    <td>{{user.name}}</td>
    <td>{{user.score}}</td>
    <td>{{user.count3}}</td>
    <td>{{user.count2}}</td>
    <td>{{user.count1}}</td>
</tr>
</table>

<table class="table">
    {{#each matches}}
    <tr {{#if (expired this)}}class="{{scoreClass}}"{{else}}class="bet"{{/if}}>
        <td class="small"><span class="hidden-xs">{{calendar when}}</span><span class="visible-xs">{{calendarShort when}}</span></td>
        <td class="small"><span class="hidden-xs">{{MatchType.name}}</span><span class="visible-xs">{{MatchType.code}}</span></td>
        <th class="text-right"><span class="hidden-xs">{{HomeTeam.name}}</span><span class="visible-xs">{{HomeTeam.code}}</span></th>
        <td class="text-right">
        {{#if (expired this)}}
            {{#if goalsHome}}{{goalsHome}}{{else}}-{{/if}}
            ({{#if Bets.0.goalsHome}}{{Bets.0.goalsHome}}{{else}}-{{/if}})
        {{else}}
            <input type="number" min="0" size="2" class="form-control text-center" name="home" value="{{Bets.0.goalsHome}}">
            <input type="hidden" name="match" value="{{id}}">
        {{/if}}
        </td>
        <td class="text-center">:</td>
        <td>
        {{#if (expired this)}}
            {{#if goalsAway}}{{goalsAway}}{{else}}-{{/if}}
            ({{#if Bets.0.goalsAway}}{{Bets.0.goalsAway}}{{else}}-{{/if}})
        {{else}}
            <input type="number" min="0" class="form-control text-center" name="away" value="{{Bets.0.goalsAway}}">
        {{/if}}
        </td>
        <th class="text-left"><span class="hidden-xs">{{AwayTeam.name}}</span><span class="visible-xs">{{AwayTeam.code}}</span></th>
    </tr>
    {{/each}}
</table>
</div>
<script type="text/javascript" src="{{asset "/js/save_bets.js"}}"></script>
{{/inline}}
{{/layout}}
